local Module = {}

local player = game.Players.LocalPlayer
local playerGui = player:FindFirstChild("PlayerGui")
local starterGui = game:GetService("StarterGui")

task.wait(10)
game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(10.1208735, 4.25818634, 8.8608036)

repeat task.wait() until game:IsLoaded()
local LocalPlayer = game:GetService("Players").LocalPlayer
repeat task.wait() until not LocalPlayer.PlayerGui:FindFirstChild("__INTRO")

local Network = require(game.ReplicatedStorage.Library.Client.Network)

LocalPlayer.PlayerScripts.Scripts.Core["Idle Tracking"].Enabled = false
LocalPlayer.PlayerScripts.Scripts.Core["Server Closing"].Enabled = false

Network.Fire("Idle Tracking: Stop Timer")
for _, conn in ipairs(getconnections(LocalPlayer.Idled)) do 
    conn:Disable() 
end

if not playerGui then
    return warn("PlayerGui not found")
end

-- Schakel de standaard Roblox UI volledig uit
pcall(function()
    starterGui:SetCore("TopbarEnabled", false) -- Verbergt de topbar
    starterGui:SetCoreGuiEnabled(Enum.CoreGuiType.All, false) -- Verbergt alles van de standaard UI
end)

-- Verwijder ALLE andere ScreenGui's
for _, gui in pairs(playerGui:GetChildren()) do
    if gui:IsA("ScreenGui") and gui.Name ~= "PiraScreenGui" then
        gui:Destroy() -- Verwijderen in plaats van uitschakelen
    end
end

-- Maak een ScreenGui
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "SpectroScreenGui"
ScreenGui.IgnoreGuiInset = true
ScreenGui.ScreenInsets = Enum.ScreenInsets.DeviceSafeInsets
ScreenGui.ResetOnSpawn = false -- Blijft bestaan na respawn
ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling -- Zorgt voor overlappende elementen
ScreenGui.Parent = playerGui

-- Achtergrond (volledige schermbedekking)
local Background = Instance.new("Frame", ScreenGui)
Background.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
Background.Size = UDim2.new(1, 0, 1, 0)
Background.ZIndex = 10000 -- Hoogste laag

-- Frame voor content
local Frame = Instance.new("Frame", Background)
Frame.Size = UDim2.new(1, 0, 1, 0)
Frame.BackgroundTransparency = 1
Frame.ZIndex = 10001 -- Nog hoger dan de achtergrond

local ListLayout = Instance.new("UIListLayout", Frame)
ListLayout.Padding = UDim.new(0, 5)
ListLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center
ListLayout.VerticalAlignment = Enum.VerticalAlignment.Center

Module.CreateText = function(Number, Text, Size)
    local TextLabel = Instance.new("TextLabel", Frame)
    TextLabel.Name = tostring(Number)
    TextLabel.Size = UDim2.new(unpack(Size))
    TextLabel.BackgroundTransparency = 1
    TextLabel.Font = Enum.Font.FredokaOne
    TextLabel.Text = Text
    TextLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    TextLabel.TextScaled = true
    TextLabel.ZIndex = 10002 -- Boven alles
    return TextLabel
end

Module.CreateSpacer = function(Number)
    local Spacer = Instance.new("Frame", Frame)
    Spacer.Name = tostring(Number)
    Spacer.BackgroundColor3 = Color3.fromRGB(255, 0, 255)
    Spacer.Size = UDim2.new(0.391, 0, 0, 1)
    Spacer.ZIndex = 10001
end

Module.Format = function(int)
    local index, Suffix = 1, {"", "K", "M", "B", "T"}
    while int >= 1000 and index < #Suffix do
        int = int / 1000
        index = index + 1
    end
    return string.format(index == 1 and "%d" or "%.2f%s", int, Suffix[index])
end

return Module
